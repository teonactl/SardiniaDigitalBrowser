<BrowseScreen@MDScreen>:
    name: "bro_screen"
    id : bro_screen

    BrowseViewer : 
        id : rv
  

<BrowseViewer>:
    viewclass: 'SDLCard'  # defines the viewtype for the data items.
    orientation: "vertical"

    RecycleBoxLayout:
        radius : 24 , 24
        adaptive_height: True
        default_size_hint: 1, None
        size_hint: 1, None
        default_size: None, dp(300)
        default_size_hint: 1, None
        height: self.minimum_height
        orientation: "vertical"
        padding: 10
        spacing: 5


<SDLCard>:
    radius : 24, 24
    id : card
    #line_color:(0.2, 0.2, 0.2, 0.8)
    line_color:app.theme_cls.accent_dark# root.color
    shadow_softness: 12
    shadow_offset : (0, 2)
    orientation : "vertical"
    min_height: 600
   
    MDSmartTile:
        radius: 24
        box_radius: [0, 0, 24, 24]
        source : "src/audio.png" if  "audio.svg" in root.img else root.img
        size_hint_y:1
        allow_stretch: True
        mipmap:True
        keep_ratio:True
        on_press: print("pressed");app.play(root)
        lines : 2



        MyFButton:
            link : root.link
            icon: "dots-vertical"
            theme_icon_color: "Custom"
            #icon_color: 1, 0, 0, 1
            pos_hint: {"center_y": .5}
            on_release: root.open_menu(self)

        TwoLineListItem:
            radius : 24, 24
            text: f"[color=#ffffff][b]{root.cat}[/b][/color]"
            secondary_text: f"[color=#808080][b]{root.title}[/b][/color]"
            pos_hint: {"center_y": .5}
            _no_ripple_effect: True

        MDIconButton:
            id: pref_icon
            icon: "star" if app.root.ids.screen_manager.current == "bro_screen" else "delete"
            theme_icon_color: "Custom"
            icon_color: 1, 1, 0, .75
            pos_hint: {"center_y": .5}
            on_release: root.store_preferito(root)

